generator client {
  provider = "prisma-client-js"
  output   = "../generated/prisma"
}

datasource db {
  provider = "postgresql"
  url      = env("DATABASE_URL")
}

model Product {
  id    Int     @id @default(autoincrement())
  name  String?
  slug  String? @unique
  price Float
  description String
  starRating Float
  discountRate Int
  variants ProductVariant[]
  categoryId Int
  category Category @relation(fields: [categoryId], references: [id])
}

model ProductVariant{
  id Int @id @default(autoincrement())
  color String
  size String
  productId Int
  stock Int
  product Product @relation(fields: [productId], references: [id])
  CartItem CartItem[]
}

model Category {
  id        Int     @id @default(autoincrement())
  title String
  products Product[]
}

model Cart {
  id String @id @default(uuid())
  userId Int?
  createdAt DateTime
  updatedAt DateTime?
  cartItems CartItem[]
}

model CartItem {
  id Int @id @default(autoincrement())
  quantity Int
  productVariantId Int
  productVariant ProductVariant @relation(fields: [productVariantId], references: [id])
  cartId String
  cart Cart @relation(fields: [cartId], references: [id])
}